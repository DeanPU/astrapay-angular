<div class="toast toast-top toast-end">
  @if(isShowToast()){
  <div [class]="toastType">
    <span>{{ toastMessage }}</span>
  </div>
  }
</div>

<div class="flex justify-between">
  <p class="text-2xl font-bold">My Notes</p>
  <button class="btn btn-primary" (click)="noteFormModalRef.openModal()">Add Note</button>
</div>

<div class="divider"></div>

@if(isLoading) {
<div class="text-center">
  <span class="loading loading-spinner loading-xl"></span>
</div>
} @else if(notes.length === 0) {
<div class="text-center">
  <span class="text-2xl">Data is Empty</span>
</div>
} @else {
<div class="grid grid-cols-3 gap-4">
  @for (note of notes; track note.id) {
  <app-note-card [data]="note" (deleteItemEvent)="handleDelete($event)" />
  }
</div>
}

<app-notes-form #noteFormModalRef (submitNote)="handleSubmit($event)"></app-notes-form>

<dialog id="delete_modal" class="modal">
  <div class="modal-box">
    <h3 class="text-lg py-4 font-bold">Are you sure want to delete this item?</h3>
    <div class="modal-action">
      <form method="dialog">
        <button class="btn btn-primary mr-4" (click)="confirmDelete()">Yes</button>
        <button class="btn btn-secondary">No</button>
      </form>
    </div>
  </div>
</dialog>
